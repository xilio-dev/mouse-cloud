
版本说明：
- jdk 1.8
- RocketMQ：5.3.1
- RocketMQ Client：5.3.1
## 资源
- Spring启动器和代码案例：https://github.com/apache/rocketmq-spring
- 监控面板：https://github.com/apache/rocketmq-dashboard

## 在本地搭建单机版
```shell
sh mqnamesrv
```
```shell
sh mqbroker -n localhost:9876 --enable-proxy
```
## SpringBoot整合RocketMQ
下面Starter依赖对应Client是5.3.1版本，实测如果客户端版本小于服务端的时候会出问题，本文保持版本一致。
```xml
<dependency>
    <groupId>org.apache.rocketmq</groupId>
    <artifactId>rocketmq-spring-boot-starter</artifactId>
    <version>2.3.3</version>
</dependency>
```
在消费者和生产者服务`application.yml`分别加入如下配置：
```yml 
rocketmq:
  name-server: 127.0.0.1:9876
```
生产者端发消息的模版：
```java
@Resource
private RocketMQTemplate rocketMQTemplate;
```
消费者端消费消息监听器：
```java
@Service
@RocketMQMessageListener(topic = "test-topic", consumerGroup = "string_consumer")
public class StringConsumer implements RocketMQListener<String> {
    @Override
    public void onMessage(String message) {
        System.out.printf("收到消息：", message);
    }
}
```
![start.png](start.png)
